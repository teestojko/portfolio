<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="portfolio">
        <div class="portfolio_inner">
            <img src="images/underwater.jpg" alt="Underwater Picture" class="active">
            <img src="images/sky.jpg" alt="Sky Picture">
            <div class="custom-background">
                <div class="overlay-content">
                    <div class="portfolio_company">
                        <p class="company_message hidden">あなたの作りたいを<br>叶えます</p>
                        <p class="company_title hidden">web engineer<br>Tetsuya Kishi</p>
                    </div>
                        <div class="light-effect"></div>
                        <div class="light-effect"></div>
                        <div class="light-effect"></div>
                        <div class="light-effect"></div>
                        <div class="light-effect"></div>
                        <div class="light-effect"></div>
                        <div class="light-effect"></div>
                        <div class="light-effect"></div>
                        <div class="light-effect"></div>
                </div>
                <div class="extra-content hidden">
                    <svg viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg">
                    <path fill="#2563eb" fill-opacity="1">
                        <animate 
                        attributeName="d" 
                        dur="10s" 
                        repeatCount="indefinite" 
                        values="
                            M0,320L30,293.3C60,267,120,213,180,192C240,171,300,181,360,181.3C420,181,480,171,540,160C600,149,660,139,720,133.3C780,128,840,128,900,144C960,160,1020,192,1080,186.7C1140,181,1200,139,1260,128C1320,117,1380,139,1410,149.3L1440,160L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z;
                            
                            M0,320L30,277.3C60,235,120,149,180,128C240,107,300,149,360,181.3C420,213,480,235,540,224C600,213,660,171,720,144C780,117,840,107,900,128C960,149,1020,203,1080,218.7C1140,235,1200,213,1260,202.7C1320,192,1380,192,1410,192L1440,192L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z;
                            
                            M0,320L30,256C60,192,120,64,180,37.3C240,11,300,85,360,117.3C420,149,480,139,540,133.3C600,128,660,128,720,149.3C780,171,840,213,900,202.7C960,192,1020,128,1080,106.7C1140,85,1200,107,1260,117.3C1320,128,1380,128,1410,128L1440,128L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z;
                        "
                        />
                    </path>
                    </svg>
                </div>
            </div>


            <div class="text-overlay active">
                <div class="portfolio_comment">今よりも<br>より良い明日へ</div>
                <div class="image_credit">Photo by Cristian Palmer on Unsplash</div>
            </div>
            <div class="text-overlay">
                <div class="portfolio_comment">共に新たな創造を...</div>
                <div class="image_credit">Photo by Sam Schooler on Unsplash</div>
            </div>
        </div>
    </div>

<script>
    const images = document.querySelectorAll('.portfolio img');
    const texts = document.querySelectorAll('.text-overlay');
    const background = document.querySelector('.custom-background');
    let currentIndex = 0;

    function changeImage() {
        // 現在の画像とテキストを非表示
        images[currentIndex]?.classList.remove('active');
        texts[currentIndex].classList.remove('active');

        // 次の画像とテキストを表示
        currentIndex++;

        if (currentIndex < images.length) {
            // 画像とテキストを表示
            images[currentIndex]?.classList.add('active');
            texts[currentIndex].classList.add('active');

            setTimeout(changeImage, 3000); // 3秒後に次の画像に切り替え
        }
    }

    // 初回実行
    setTimeout(changeImage, 3000); // 3秒後に最初の切り替えが始まる


    // 光のエフェクトをランダムに動かす
    const lightEffects = document.querySelectorAll('.light-effect');

    function randomizeLights() {
        lightEffects.forEach(light => {
            // ランダムな位置（0〜100%）
            const randomX = Math.random() * 100;
            const randomY = Math.random() * 100;

            // ランダムなスケール（1〜2倍）
            const randomScale = Math.random() * 1 + 1;

            // ランダムな透明度（0.3〜0.7）
            const randomOpacity = Math.random() * 0.4 + 0.3;

            // ランダムな色（HSL値を使用してカラフルな効果を作成）
            const randomHue = Math.floor(Math.random() * 360); // 0〜360の色相
            const randomSaturation = Math.random() * 50 + 50; // 50%〜100%の彩度
            const randomLightness = Math.random() * 30 + 50; // 50%〜80%の明度
            const randomColor = `hsl(${randomHue}, ${randomSaturation}%, ${randomLightness}%)`;

            // スタイルを適用
            light.style.top = `${randomY}%`;
            light.style.left = `${randomX}%`;
            light.style.transform = `scale(${randomScale})`;
            light.style.opacity = randomOpacity;
            light.style.background = `radial-gradient(circle, ${randomColor}, transparent)`;

            // ランダムな移動を設定
            const randomDuration = Math.random() * 1 + 4; // 2秒〜5秒
            light.style.transition = `all ${randomDuration}s ease-in-out`;
        });

        // 再帰的に呼び出してランダムな動きを繰り返す
        setTimeout(randomizeLights, 5000); // 3秒ごとに動きを更新
    }

    // 初回実行
    randomizeLights();

    document.addEventListener('DOMContentLoaded', () => {
        const companyMessage = document.querySelector('.company_message');
        const companyTitle = document.querySelector('.company_title');

        function switchCompanyText() {

        setTimeout(() => {
            companyMessage.classList.remove('hidden');
            companyMessage.classList.add('visible');
        }, 3000);

        setTimeout(() => {
            companyMessage.classList.remove('visible');
            companyMessage.classList.add('hidden');

            // companyTitle を表示
            companyTitle.classList.remove('hidden');
            companyTitle.classList.add('visible');
        }, 6000);
    }

        setTimeout(switchCompanyText, 3000);
    });

    document.addEventListener('DOMContentLoaded', () => {
        const extraContent = document.querySelector('.extra-content');

        function onScroll() {
            const scrollPosition = window.scrollY + window.innerHeight; // 現在のスクロール位置
            const triggerPosition = extraContent.offsetTop; // トリガー位置

            if (scrollPosition > triggerPosition) {
                // hiddenクラスを削除してvisibleクラスを付与
                extraContent.classList.remove('hidden');
                extraContent.classList.add('visible');

                // 一度だけ発火させるためにイベントを削除
                window.removeEventListener('scroll', onScroll);
            }
        }

        // スクロールイベントを監視
        window.addEventListener('scroll', onScroll);
    });
</script>

</body>
</html>

